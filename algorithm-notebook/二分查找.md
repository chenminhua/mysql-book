https://www.youtube.com/watch?v=v57lNF2mb_s&list=PLLuMmzMTgVK74vqU7Ukaf70a382dzF3Uo&index=9

```py
# 区间 [l, r)
def binary_search(l, r):
    while l < r:
        m  = l + (r - l) // 2
        if f(m): return m
        if g(m):
            r = m        # [l, m)
        else:
            l = m + 1    # [m+1, r)
    return l # or not found

# lower bound
def lower_bound(array, val):
    l = 0
    r = len(array)
    while l < r:
        m  = l + (r - l) // 2
        if array[m] >= val:
            r = m
        else:
            l = m + 1
    return l

# upper bound
def upper_bound(array, val):
    l = 0
    r = len(array)
    while l < r:
        m = l + (r - l) // 2
        if array[m] > val:
            r = m
        else:
            l = m + 1
    return l

# LC 69 SQRT(x)
def sqrt(x):
    l = 0
    r =  x+1
    while l < r:
        m = l + (r - l) // 2
        if m * m > x:
            r = m
        else:
            l = m + 1
    return l - 1

# lc 278, first bad version
def firstBadVersion(n):
    l = 0
    r = n
    while l < r:
        m = l + (r - l) // 2
        if isBadVersion(m)
            r = m
        else
            l = m + 1
    return l

# lc 875 koko eating bananas
def eat(piles, H):
    l = 1
    r = max(piles) + 1
    while l < r:
        m = l + (r - l) // 2
        h = 0
        for p in piles:
            h += (p + m - 1) / m
        if h <= H:
            r = m
        else
            l = m + 1
    return l

# lc 378 kth smallest element in a sorted matrix
def kthSmallest(A, k):
    l  = A[0][0]
    r = A[-1][-1]
    while l < r:
        m  = l + (r - l) // 2
        total = 0
        for row in A:
            total += upper_bound(row, m)
        if total >= k
            r = m
        else
            l = m + 1
    return l
```
