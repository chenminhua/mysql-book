构造数据抽象
  数据抽象导引
    实例：有理数算术运算
    抽象屏障
    数据意味着什么
    扩展连续：区间算术
  层次性数据和闭包特性
    序列的表示
    层次性结构
    序列作为一种约定的interface
    实例：一个图形语言
  符号数据：
    引号
    实例：符号求导
    实例：集合的表示
    实例：huffman编码树
  抽象数据的多重表示：
    复数的表示
    带标志数据
    数据导向的程序设计和可加性
  带有统一型操作的系统：
    通用型算术运算
    不同类型数据的组合
    实例：符号代数


本章将重点转到各种程序设计语言都包含的另一个关键方面：讨论它们所提供的，将数据对象组合起来，形成复合数据的方式。为什么需要复合数据呢？与我们需要复合过程一样：同样是为了提升我们在设计程序时所位于的概念层次，提高设计的模块性，增强语言的表达能力。

我们将会看到，形成复合数据的关键就在于，程序语言里应该提供某种“粘合剂”，它可以用于把一些数据对象组合起来，形成更复杂的数据对象。我们还会发现怎样去构造出根本没有任何特定数据的操作，只是由过程形成的复合数据，这将进一步模糊过程和数据之间的划分。

符号表达式的基本部分可以是任意符号，不一定是数。我们将探索表示对象集合的各种不同方式，由此可以发现，就像一个给定的数学函数可以通过许多不同的计算过程计算一样，对于一种给定的数据结构，也可以有许多方式将其表示为简单对象的组合。而这种表示的选择，有可能对操作这些数据的计算过程的时间和空间需求造成重大影响。

为了维持模块性，通用型操作的出现，将要求比只有简单数据抽象更强大的抽象屏障。我们将介绍**数据导向的程序设计**。

## 抽象屏障
抽象屏障隔离了系统中不同的层次，在每一层上，这种屏障都把使用数据抽象的程序与实现数据抽象的程序分开。使用有理数的程序将仅仅通过有理数包提供给“公众使用”的那些过程(add-rat, sub-rat等等)去完成对有理数的各种操作，而这些过程又是完全基于make-rat, numer和denom实现的；而这些函数又是基于序对实现的。只要序对可以通过cons，car和cdr操作，有关序对如何实现的细节与有理数包的其他部分完全没有关系。

数据究竟是什么？说它就是“由给定的构造函数和选择函数所实现的东西”还是不够的。

# cons,car,cdr
cons是构造(construct)的意思
car是contents of address part of Register
cdr是contents of decrement part of register

# 数据抽象
为每一类数据对象标识出一组操作，使得对这类数据对象的操作都可以基于它们表述，在操作数据时只使用它们。

# 层次性数据和闭包性质
我们可以建立元素本身也是序对的序对，这就是表结构得以作为一种表示工具的根本基础。我们将这种能力称为cons的闭包性质。一般说，某种组合数据对象的操作满足闭包性质，就是说，通过它组合起数据对象得到的结果本身还可以通过同样的操作再组合。

组合式的成员本身还可以是组合式。

# 序列作为一种约定的界面


# range
```scheme
(define (range low high)
  (if (> low high)
      null
      (cons low (range (+ low 1) high))))
(range 2 12)
```

