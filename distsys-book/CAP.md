# cap

你开了家公司 Remembrance Inc，帮别人记住一些事情。

客人打电话来让你记下他女朋友的生日，你把内容记录在笔记本上，下次他打电话来问你你就打开笔记本查了告诉他就行了。

后来客人多了，你忙不过来，于是你和你老婆一起干这个生意。

但是出现了一个问题，你老婆记得东西和你记得东西不在一个本子上，咋办？（一致性问题出现了）

你想到一个办法，就是每个 Update call 的内容都记录到两个人的本子上，这样 search call 两个人就都能胜任了。（一致性问题解决了）

但是还是有个问题，就是每个 Update call 都要涉及到两个人，这也很严重，因为如果有一个人不能工作的时候，所有的 Update call 就都不能完成。（可用性问题出现了）

你想到一个办法，如果 Update call 来的时候双方都在，则都更新，否则，收到请求的那方给对方发个邮件，等对方能工作的时候再 update。(可用性问题也解决了)。

但是如果你老婆有天很生你的气，不把她记下的东西同步给你呢？（分区容错问题出现了）

你选择等到你老婆把数据同步给你，不然你就工作不了了。（解决了分区容错问题，可用性问题又出现了）

## 参考

http://ksat.me/a-plain-english-introduction-to-cap-theorem/
